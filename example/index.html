<!DOCTYPE html>
<html>
<head>
	<title>ContentEditable Example</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

<div id="container" class="shadow corner">
	<div class="wizzy_enable">
		<a class="cebtn cebtn-enable" title="Enable">Enable Content Editing</a>
	</div>
	<ul id="wizzy_toolbar" class="wizzy_toolbar clearfix">
		<li><a class="cebtn cebtn-grow" title="Grow">+</a></li>
		<li><a class="cebtn cebtn-shrink" title="Shrink">-</a></li>
		<li><a class="cebtn cebtn-bold" title="Bold">B</a></li>
		<li><a class="cebtn cebtn-italic" title="Italic">I</a></li>
	</ul>


	<div id="CE_container" class="clearfix">
		<p>
		EditableContent is a WYSIWYG library that doesn't rely on the browser's <em>"contenteditable"</em> attribute. With the help of <a href="http://code.google.com/p/rangy/" title="Rangy">Rangy</a>, a cross-browser JavaScript range and selection library, EditableContent closes up stray text nodes and performs node traversal and processing within a given range.
		</p>
		<p>
		EditableContent can turn any container into an editable content area. A range is created during each click event within a given container. A two pixel wide (and 'line-height' tall) element with a blinking gif as background is placed at that range. Every character keystroke is then recorded in a textarea, measured off-screen, and appended into the container as a text node at the same range.
		</p>
		<p>
		Currently, EditableContent is developed on Google Chrome. Please use Chrome for maximum compatibility.
		</p>
	</div>
</div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script src="../lib/rangy.js"></script>
<script src="../lib/wizzy.js"></script>
<script src="../lib/contenteditable.js"></script>

<script>
var

inst,
$toolbar = $("#wizzy_toolbar");
$enableButton = $('.cebtn-enable').data('editable', false);
$enableButton.click(function() {
	var dataEditable = $enableButton.data('editable');
	if(dataEditable) {
		$enableButton.html("Enable Content Editing");
		inst.disable();
	} else {
		if(!inst) inst = CE({el: '#CE_container' });
		inst.enable();
		$enableButton.html("Disable Content Editing");
	}
	$enableButton.data('editable', !dataEditable);
	$toolbar.toggleClass('active');
	return false;
});
$('.cebtn-grow').mousedown(function() { 	inst.exec("increaseFontSize"); return false; });
$('.cebtn-shrink').mousedown(function() { 	inst.exec("decreaseFontSize"); return false; });
$('.cebtn-bold').mousedown(function() { 	inst.exec("bold"); return false; });
$('.cebtn-italic').mousedown(function() { 	inst.exec("italicize"); return false; });
</script>	
</body>
</html>
